[mypy]
python_version = 3.10
namespace_packages = True
explicit_package_bases = True
mypy_path = packages/common/src:packages/config/src:packages/data/src:packages/kv/src:packages/structures/src:packages/utils/src:packages/xization/src:packages/fsm/src
cache_dir = .mypy_cache
incremental = True

# Focus on critical errors only
ignore_missing_imports = True
no_implicit_optional = True
warn_unreachable = False
warn_no_return = False
strict_equality = True

# Suppress less critical warnings for gradual typing
allow_untyped_defs = True
allow_untyped_calls = True
allow_incomplete_defs = True
allow_untyped_decorators = True
allow_untyped_globals = True
allow_redefinition = True
warn_return_any = False
warn_unused_ignores = False
check_untyped_defs = False
disallow_untyped_defs = False
disallow_incomplete_defs = False
disallow_untyped_decorators = False

# Disable specific error codes for non-critical issues
disable_error_code = import-untyped,no-untyped-def,no-untyped-call,no-any-return,var-annotated,override,attr-defined,union-attr,assignment,unreachable,return-value,arg-type,call-arg,has-type,call-overload,operator,comparison-overlap,index,misc,truthy-function,dict-item

# Per-module overrides for third-party libraries
[mypy-nltk.*]
ignore_missing_imports = True

[mypy-graphviz.*]
ignore_missing_imports = True

[mypy-pyparsing.*]
ignore_missing_imports = True

[mypy-json_stream.*]
ignore_missing_imports = True

[mypy-sklearn.*]
ignore_missing_imports = True

[mypy-python_nmap.*]
ignore_missing_imports = True

[mypy-more_itertools.*]
ignore_missing_imports = True

[mypy-flask.*]
ignore_missing_imports = True

[mypy-asyncpg.*]
ignore_missing_imports = True

[mypy-aioboto3.*]
ignore_missing_imports = True

[mypy-pandas.*]
ignore_missing_imports = True

[mypy-faiss.*]
ignore_missing_imports = True

[mypy-chromadb.*]
ignore_missing_imports = True

[mypy-numpy.*]
ignore_missing_imports = True

[mypy-lark.*]
ignore_missing_imports = True

# Relax checks for complex modules
[mypy-dataknobs_data.vector.stores.*]
allow_untyped_defs = True
warn_return_any = False

[mypy-dataknobs_data.validation.*]
allow_untyped_defs = True
warn_return_any = False

[mypy-dataknobs_data.backends.*]
allow_untyped_defs = True
warn_return_any = False
